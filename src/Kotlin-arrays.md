### –ú–∞—Å—Å–∏–≤—ã

![–º–∞—Å—Å–∏–≤—ã](assets/arrays/array-explanation.png)

[–≤—Å–µ –ª–µ–∫—Ü–∏–∏](https://github.com/dmitryweiner/android-lectures/blob/master/README.md)

[–≤–∏–¥–µ–æ](https://youtu.be/EpPdwcr5vJw)
---

* –ú–∞—Å—Å–∏–≤—ã –±—ã–≤–∞—é—Ç:
  * –¢–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ (–æ–¥–∏–Ω —Ç–∏–ø).
  * –ú–∞—Å—Å–∏–≤—ã —Å —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ —Ä–∞–∑–Ω–æ–≥–æ —Ç–∏–ø–∞.

![Debug](assets/arrays/array-debug.png)
---

### –°–æ–∑–¥–∞–Ω–∏–µ –º–∞—Å—Å–∏–≤–∞
* –ß–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä:

```kotlin
val arr = Array(3) { i -> i * 2 } // [2, 4, 6]
```

–ü–µ—Ä–≤—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä - —Ä–∞–∑–º–µ—Ä. –í—Ç–æ—Ä–æ–π –ø–∞—Ä–∞–º–µ—Ç—Ä - –ª—è–º–±–¥–∞ –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è.
* –ß–µ—Ä–µ–∑ `arrayOf`, –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö —É–∫–∞–∑—ã–≤–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã –º–∞—Å—Å–∏–≤–∞:

```kotlin
val arr = arrayOf(1, 2, 3)
```
---

### –ú–∞—Å—Å–∏–≤ –∏ —Ç–∏–ø—ã
* –¢–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π:

```kotlin
val arr = arrayOf<Int>(1, 2, 3)
```

* –ú–æ–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –º–µ—Ç–æ–¥–∞–º–∏ `intArrayOf(), charArrayOf(), booleanArrayOf(), longArrayOf(), shortArrayOf(), byteArrayOf().`
* –°–º–µ—à–∞–Ω–Ω—ã–π:

```kotlin
val myArray = arrayOf(1, 2, 3, 4, 5, "–∑–∞–π—á–∏–∫", "–≤—ã—à–µ–ª", "–ø–æ–≥—É–ª—è—Ç—å")
```
---

### –ú–∞—Å—Å–∏–≤ –∫–∞–∫ –∞—Ä–≥—É–º–µ–Ω—Ç —Ñ—É–Ω–∫—Ü–∏–∏
* –ú–∞—Å—Å–∏–≤ –º–æ–∂–Ω–æ —É–∫–∞–∑—ã–≤–∞—Ç—å –∫–∞–∫ —Ç–∏–ø –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –∏–ª–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–∞:
```kotlin
fun calc(arr: Array<Int>) {
    /* ... */
}
```
---

### `Array<Int>` –∏–ª–∏ `IntArray`, –∫–∞–∫–∞—è —Ä–∞–∑–Ω–∏—Ü–∞?
![](assets/kotlin-collections/type-mismatch.png)

–ü–æ—á–µ–º—É –Ω–µ–ª—å–∑—è –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Ç–∞–∫–æ–µ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–µ, –≤–µ–¥—å —Ç–∏–ø—ã –∫–∞–∑–∞–ª–æ—Å—å –±—ã –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ?
```kotlin
var arr = intArrayOf(0, 1, 2) // 0, 1, 2
val boxedArr = Array<Int>(3) { it } //  // 0, 1, 2
arr = boxedArr // ‚ùå Error!
```
---

### üì¶–íoxing –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –º–∞—Å—Å–∏–≤–∞
* `intArrayOf` - —ç—Ç–æ –º–∞—Å—Å–∏–≤ —Å –ø—Ä–∏–º–∏—Ç–∏–≤–∞–º–∏, —ç—Ç–æ –∞–Ω–∞–ª–æ–≥ `int[]`.
* `Array<Int>` - —ç—Ç–æ –º–∞—Å—Å–∏–≤ —Å boxed-—ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ `Integer[]`.
  * –ö–∞–∂–¥–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∑–∞–≤—ë—Ä–Ω—É—Ç–æ –≤–æ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç `Integer`.

![boxed values in array](assets/arrays/boxed.png)
---

### Boxed array -> typed array
–¢–∞–∫ –º–æ–∂–Ω–æ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –º–∞—Å—Å–∏–≤:
```kotlin
var arr = intArrayOf(0, 1, 2)
val boxedArr = Array<Int>(3) { it }
arr = boxedArr.toIntArray() // ‚úÖ
```
---

### –†–∞–∑–º–µ—Ä –º–∞—Å—Å–∏–≤–∞
* –•—Ä–∞–Ω–∏—Ç—Å—è –≤ —Å–≤–æ–π—Å—Ç–≤–µ `.size`:
```kotlin
val arr = arrayOf(1, 2, 3)
println(arr.size) // 3
```
---

### –ü—Ä–æ–≤–µ—Ä–∫–∞, –µ—Å—Ç—å –ª–∏ —Ç–∞–∫–æ–π —ç–ª–µ–º–µ–Ω—Ç
* –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ–ø–µ—Ä–∞—Ç–æ—Ä `in`:
```kotlin
val arr = arrayOf(1, 2, 3)
println(2 in arr)      // true
println(4 in arr)      // false
println(4 !in arr)     // true
```
---

### –ü–µ—Ä–µ–±–æ—Ä –º–∞—Å—Å–∏–≤–∞
* –ü–µ—Ä–µ–±–æ—Ä —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å –ø–æ–º–æ—â—å—é `for`:

```kotlin
val arr = arrayOf<Int>(1, 2, 3)
for(item in arr) {
  println(item)
}
```

* –ü–µ—Ä–µ–±–æ—Ä —Å –ø–æ–º–æ—â—å—é `.forEach`:

```kotlin
val arr = arrayOf<Int>(1, 2, 3)
arr.forEach { println(it) }
```
---

### –ü–µ—Ä–µ–±–æ—Ä –∏–Ω–¥–µ–∫—Å–æ–≤
```kotlin
val arr = arrayOf<Int>(1, 2, 3)

// —á–µ—Ä–µ–∑ for
// –í–Ω–∏–º–∞–Ω–∏–µ! –ò—Å–ø–æ–ª—å–∑—É–µ–º —Å–≤–æ–π—Å—Ç–≤–æ arr.indices
for(index in arr.indices) {
  println(index)
}

// —á–µ—Ä–µ–∑ .forEach
arr.indices.forEach { println(it) }
```
---

### –†–∞–∑–ª–∏—á–∏—è onEach –∏ forEach

![](assets/kotlin-collections/forEach.png)
---

### –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è —Å –ø–æ–º–æ—â—å—é map
* `map` –ø—Ä–∏–º–µ–Ω—è–µ—Ç –ª—è–º–±–¥—É –∫ –∫–∞–∂–¥–æ–º—É —ç–ª–µ–º–µ–Ω—Ç—É –º–∞—Å—Å–∏–≤–∞ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–æ–≤—ã–π –º–∞—Å—Å–∏–≤:

```kotlin
val arr = Array(5) { it }
// 0, 1, 2, 3, 4
val arr2 = arr.map { it * it } // –≤–æ–∑–≤–µ—Å—Ç–∏ –≤ –∫–≤–∞–¥—Ä–∞—Ç
// 0, 1, 4, 9, 16
val arr3 = arr.map { it.toString() } // –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –≤ —Å—Ç—Ä–æ–∫–∏
// "0", "1", "2", "3", "4"
```
---

### –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞
* sort:

```kotlin
val numbers: IntArray = intArrayOf(7, 5, 8, 4, 9, 6, 1, 3, 2)
numbers.sort()
// 1, 2, 3, 4, 5, 6, 7, 8, 9
```
* –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —Å –∫–æ–º–ø–∞—Ä–∞—Ç–æ—Ä–æ–º sortWith:

```kotlin
data class User(val name: String, val age: Int)
val users = arrayOf(User("–í–∞—Å—è", 19), User("–ö–∞—Ç—è", 18), User("–ü–µ—Ç—è", 20), User("–ú–∞—à–∞", 17))
users.sortWith(Comparator { u1, u2 -> u1.age - u2.age })
// User(name=–ú–∞—à–∞, age=17), User(name=–ö–∞—Ç—è, age=18), User(name=–í–∞—Å—è, age=19), User(name=–ü–µ—Ç—è, age=20)
```

* –°–æ—Ä–∏—Ä–æ–≤–∫–∞ –ø–æ –ø–æ–ª—é –æ–±—ä–µ–∫—Ç–∞:
```kotlin
users.sortBy { it.age }
```
---

### –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è
```kotlin
val numbers: IntArray = intArrayOf(7, 5, 8, 4, 9, 6, 1, 3, 2)

// –≤—Å–µ —á—ë—Ç–Ω—ã–µ
val filteredNumbers = numbers.filter { it % 2 == 0 }
// 8, 4, 6, 2

// –≤—Å–µ –Ω–µ—á—ë—Ç–Ω—ã–µ
val filteredNumbers2 = numbers.filter { it % 2 != 0 }
// 7, 5, 9, 1, 3
```
---

### –ü–æ–∏—Å–∫
* find:
```kotlin
val numbers: IntArray = intArrayOf(7, 5, 8, 4, 9, 6, 1, 3, 2)
numbers.find { it % 2 == 0 } // –Ω–∞–π—Ç–∏ –ø–µ—Ä–≤—ã–π —á–µ—Ç–Ω—ã–π
// 8
```
* findLast:
```kotlin
val numbers: IntArray = intArrayOf(7, 5, 8, 4, 9, 6, 1, 3, 2)
numbers.findLast { it % 2 == 0 } // –Ω–∞–π—Ç–∏ –ø–æ—Å–ª–µ–¥–Ω–∏–π —á–µ—Ç–Ω—ã–π
// 2
```
---

### –†–∞–∑–ª–∏—á–∏—è –≤ –æ–∫–æ–Ω—á–∞–Ω–∏—è—Ö
* –ú–µ—Ç–æ–¥—ã, –æ–∫–∞–Ω—á–∏–≤–∞—é—â–∏–µ—Å—è –Ω–∞ _-ed_ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –Ω–æ–≤—ã–π –º–∞—Å—Å–∏–≤, –Ω–µ –∏–∑–º–µ–Ω—è—è –∏—Å—Ö–æ–¥–Ω—ã–π.
* –ê–Ω–∞–ª–æ–≥–∏—á–Ω—ã–µ –º–µ—Ç–æ–¥—ã –±–µ–∑ _-ed_ –º–µ–Ω—è—é—Ç —Å–∞–º –º–∞—Å—Å–∏–≤.

```kotlin
val numbers: IntArray = intArrayOf(7, 5, 8, 4, 9, 6, 1, 3, 2)
numbers.sorted() // –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 1, 2, 3, 4, 5, 6, 7, 8, 9
numbers // —Ç—É—Ç –ª–µ–∂–∏—Ç 7, 5, 8, 4, 9, 6, 1, 3, 2
numbers.sort() // –Ω–∏—á–µ–≥–æ –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç
numbers // —Ç–µ–ø–µ—Ä—å —Ç—É—Ç –ª–µ–∂–∏—Ç 1, 2, 3, 4, 5, 6, 7, 8, 9
```
---

### –ó–∞–¥–∞—á–∏
#### –ó–∞–¥–∞—á–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Ä–µ—à–∞—Ç—å –≤ –≤–∏–¥–µ —Ñ—É–Ω–∫—Ü–∏–∏, –ø—Ä–∏–Ω–∏–º–∞—é—â–µ–π –Ω–∞ –≤—Ö–æ–¥ –º–∞—Å—Å–∏–≤, –≤–æ–∑–≤—Ä–∞—â–∞—é—â–µ–π –æ—Ç–≤–µ—Ç
* –ù–∞–π—Ç–∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é —Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ –º–∞—Å—Å–∏–≤–∞.
```kotlin
f(arrayOf(-7, 12, 4, 6, -4, -12, 0)) // 24 
f(arrayOf()) // 0 
```
---

* –ù–∞–π—Ç–∏, —Å–∫–æ–ª—å–∫–æ –µ—Å—Ç—å –≤ –º–∞—Å—Å–∏–≤–µ –ø–∞—Ä —á–∏—Å–µ–ª, –¥–∞—é—â–∏—Ö –≤ —Å—É–º–º–µ 0.
–ß–∏—Å–ª–æ –∏–∑ –ø–∞—Ä—ã –Ω–µ –º–æ–∂–µ—Ç —É—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å –≤ –¥—Ä—É–≥–∏—Ö –ø–∞—Ä–∞—Ö.
```kotlin
f(arrayOf(-7, 12, 4, 6, -4, -12, 0)) // 2 
f(arrayOf(-1, 2, 4, 7, -4, 1, -2)) // 3
f(arrayOf(-1, 1, 0, 1)) // 1
f(arrayOf(-1, 1, -1, 1)) // 2
f(arrayOf(1, 1, 1, 0, -1)) // 1
f(arrayOf(0, 0)) // 1 
f(arrayOf()) // 0 
```
---

* –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–æ–π –Ω–∞ –≤—Ö–æ–¥ –ø–æ–¥–∞—ë—Ç—Å—è –º–∞—Å—Å–∏–≤ —Ü–µ–ª—ã—Ö —á–∏—Å–µ–ª —Å–æ –∑–Ω–∞–∫–æ–º,
   —Ñ—É–Ω–∫—Ü–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç, —Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ —Å–º–µ–Ω–∏–ª—Å—è –∑–Ω–∞–∫.
```kotlin
signCount(arrayOf(1, 0, -1, -3, -5, 5, -1)) === 3
signCount(arrayOf(1, 0, 1, 3, 5, 5, 1)) === 0
signCount(arrayOf(-11, 1, 3, 5, 1)) === 1
```
---

* –ù–∞–ø–∏—Å–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é, –≤–æ–∑–≤—Ä–∞—â–∞—é—â—É—é —Å–∞–º—ã–π —á–∞—Å—Ç–æ –≤—Å—Ç—Ä–µ—á–∞—é—â–∏–π—Å—è —Å–∏–º–≤–æ–ª –≤ –ø–µ—Ä–µ–¥–∞–Ω–Ω–æ–π —Å—Ç—Ä–æ–∫–µ:

```kotlin
mostCommon("isefe5i35fiuo34iuq") // 'i'
```

* –ù–∞–ø–∏—Å–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é, –ø—Ä–∏–Ω–∏–º–∞—é—â—É—é –Ω–∞ –≤—Ö–æ–¥ —Å—Ç—Ä–æ–∫—É, —Å–æ—Å—Ç–æ—è—â—É—é –∏–∑ —Å–ª–æ–≤, —Ä–∞–∑–¥–µ–ª—ë–Ω–Ω—ã—Ö –ø—Ä–æ–±–µ–ª–∞–º–∏,
    –∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—â—É—é —Å–∞–º–æ–µ —Ä–µ–¥–∫–æ –≤—Å—Ç—Ä–µ—á–∞—é—â–µ–µ—Å—è —Å–ª–æ–≤–æ:

```kotlin
mostRare("—Ç–æ–∫ –∫–æ—Ç –∫—É–∫–æ–∂ —Ç–æ–∫ –∫–æ—Ç") // "–∫—É–∫–æ–∂"
mostRare(
  "–∫–æ—Ç —Ç–æ–∫ –∫–æ—Ç –∫—É–∫–æ–∂ —Ç–æ–∫ –∫–æ—Ç —Ç–æ–∫ –∫—É–∫–æ–∂"
) // "–∫—É–∫–æ–∂"
```
---

### –ó–∞–¥–∞—á–∏
https://developer.android.com/codelabs/basic-android-kotlin-training-collections
---

### –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏
* https://developer.alexanderklimov.ru/android/kotlin/array.php
* https://metanit.com/kotlin/tutorial/2.3.php
