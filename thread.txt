        val textView = findViewById<TextView>(R.id.textView)

        var thread: Thread? = null
        var i = 0

        val button1 = findViewById<Button>(R.id.button1)
        val button2 = findViewById<Button>(R.id.button2)

        button1.setOnClickListener {
            thread = thread(start = false) {

                while (true) {

                    try {
                        Thread.sleep(1000)
                    } catch (e: InterruptedException) {
                        // We've been interrupted: no more messages.
                        return@thread
                    }
                    runOnUiThread {
                        textView.text = i.toString()
                    }
                    i++
                }
            }
            thread?.start()
        }
        button2.setOnClickListener {
            thread?.interrupt()
        }